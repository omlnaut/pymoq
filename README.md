pymoq
================

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

Following the end-to-end
[tutorial](https://nbdev.fast.ai/Tutorials/tutorial.html) for nbdev.

## Install

``` sh
pip install pymoq
```

## How to use

Suppose we have the following setup in a python backend.

``` python
from typing import Protocol

class IWeb(Protocol):
    "Interface for accessing internet resources"
    
    def get(self, url:str) -> str:
        "Fetches the ressource at `url` and returns it in string representation"
```

``` python
class RessourceFetcher:
    base_url: str = "https://some_base.com/"
    
    def __init__(self, web: IWeb):
        self._web = web
    
    def check_ressource(self, ressource_name: str) -> bool:
        url = self.base_url + ressource_name
        ressource = self._web.get(url)
        
        return ressource is not None
```

We want to test the `fetch_ressource` method of `RessourceFetcher`. More
specifically, we want to test that if the ressource is correctly
returned from the source, this method should return `True`, otherwise
`False`.

``` python
import pymoq.mocking.objects
from pymoq.argument_validators import ArgumentFunctionValidator, AnyArg
```

``` python
mock = pymoq.mocking.objects.Mock(IWeb)
mock.get.setup('https://some_base.com/ressource').returns(lambda self,url: True)

fetcher = RessourceFetcher(mock)

assert fetcher.check_ressource('ressource')
assert not fetcher.check_ressource('invalid_ressource')
```

## Notes

- started return_value_generators
- added explicit positions to argument validator
- started signature validator
- moved notebooks back to nbs folder
- troubles with pipelines…
  - github container doesn’t use min_python_version from settings.ini
  - manually set version in test.yaml fixes the problem, but really this
    should be auto-populated
- added vim extensions to jupyterlab
- removed egg-info dir from index. It caused the pipeline to fail
  becauce of unclean git status
- use `nbdev_prepare` to
  - build the library
  - run tests
  - clean notebooks from metadata
  - update readme from index notebook
- preview documentation
- editable install library
- install git hooks
- continue with “Check out your workflows”
- initialized nbdev repo
- initialized ssh access for github
